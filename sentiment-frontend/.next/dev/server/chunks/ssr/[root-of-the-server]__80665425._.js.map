{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 112, "column": 0}, "map": {"version":3,"sources":["file:///home/dickson/brief_emotion/sentiment-frontend/src/lib/api.js"],"sourcesContent":["import axios from \"axios\";\n\nexport const api = axios.create({\n  baseURL: \"http://localhost:8000\",\n});\n\napi.interceptors.request.use((config) => {\n  if (typeof window !== \"undefined\") {\n    const token = localStorage.getItem(\"token\");\n    if (token) {\n      config.headers.Authorization = `Bearer ${token}`;\n    }\n  }\n  return config;\n});\n"],"names":[],"mappings":";;;;AAAA;;AAEO,MAAM,MAAM,gJAAK,CAAC,MAAM,CAAC;IAC9B,SAAS;AACX;AAEA,IAAI,YAAY,CAAC,OAAO,CAAC,GAAG,CAAC,CAAC;IAC5B;;IAMA,OAAO;AACT"}},
    {"offset": {"line": 130, "column": 0}, "map": {"version":3,"sources":["file:///home/dickson/brief_emotion/sentiment-frontend/src/app/sentiment/page.js"],"sourcesContent":["\"use client\";\n\nimport { useState, useEffect } from \"react\";\nimport { useRouter } from \"next/navigation\";\nimport { api } from \"@/lib/api\";\n\nexport default function SentimentPage() {\n    const [text, setText] = useState(\"\");\n    const [result, setResult] = useState(null);\n    const [loading, setLoading] = useState(false);\n    const [error, setError] = useState(\"\");\n    const router = useRouter();\n\n    useEffect(() => {\n        const token = localStorage.getItem(\"token\");\n        if (!token) {\n            router.push(\"/login\");\n        }\n    }, [router]);\n\n    const handleSubmit = async (e) => {\n        e.preventDefault();\n        setLoading(true);\n        setError(\"\");\n        setResult(null);\n\n        try {\n            // Using /predict as per backend implementation\n            const response = await api.post(\"/predict\", { text });\n            setResult(response.data);\n        } catch (err) {\n            if (err.response) {\n                if (err.response.status === 401) {\n                    setError(\"Session expired. Please login again.\");\n                    localStorage.removeItem(\"token\");\n                    setTimeout(() => router.push(\"/login\"), 2000);\n                } else {\n                    setError(err.response.data.detail || \"An error occurred.\");\n                }\n            } else {\n                setError(\"Network error. Please try again.\");\n            }\n        } finally {\n            setLoading(false);\n        }\n    };\n\n    const getSentimentColor = (sentiment) => {\n        switch (sentiment?.toLowerCase()) {\n            case \"positive\":\n                return \"text-green-400\";\n            case \"negative\":\n                return \"text-red-400\";\n            case \"neutral\":\n                return \"text-gray-400\";\n            default:\n                return \"text-white\";\n        }\n    };\n\n    return (\n        <div className=\"min-h-screen flex flex-col items-center justify-center bg-gray-900 text-white p-4\">\n            <div className=\"bg-gray-800 p-8 rounded-lg shadow-lg w-full max-w-2xl\">\n                <h1 className=\"text-3xl font-bold mb-6 text-center text-purple-400\">Sentiment Analysis</h1>\n\n                <form onSubmit={handleSubmit} className=\"space-y-4\">\n                    <div>\n                        <label className=\"block text-sm font-medium mb-2\">Enter Text</label>\n                        <textarea\n                            value={text}\n                            onChange={(e) => setText(e.target.value)}\n                            className=\"w-full p-3 rounded bg-gray-700 border border-gray-600 focus:border-purple-400 focus:outline-none h-32 resize-none\"\n                            placeholder=\"Type something here...\"\n                            required\n                        />\n                    </div>\n\n                    {error && <p className=\"text-red-400 text-sm text-center\">{error}</p>}\n\n                    <button\n                        type=\"submit\"\n                        disabled={loading}\n                        className=\"w-full bg-purple-500 hover:bg-purple-600 text-white font-bold py-2 px-4 rounded transition duration-200 disabled:opacity-50\"\n                    >\n                        {loading ? \"Analyzing...\" : \"Analyze Sentiment\"}\n                    </button>\n                </form>\n\n                {result && (\n                    <div className=\"mt-8 p-4 bg-gray-700 rounded border border-gray-600 animate-fade-in\">\n                        <h2 className=\"text-xl font-semibold mb-2 text-center\">Result</h2>\n                        <div className=\"flex justify-between items-center\">\n                            <span className=\"text-gray-300\">Sentiment:</span>\n                            <span className={`text-2xl font-bold ${getSentimentColor(result.sentiment)}`}>\n                                {result.sentiment}\n                            </span>\n                        </div>\n                        <div className=\"flex justify-between items-center mt-2\">\n                            <span className=\"text-gray-300\">Score:</span>\n                            <span className=\"text-xl font-mono\">{result.score.toFixed(4)}</span>\n                        </div>\n                    </div>\n                )}\n            </div>\n        </div>\n    );\n}\n"],"names":[],"mappings":";;;;;AAEA;AACA;AACA;AAJA;;;;;AAMe,SAAS;IACpB,MAAM,CAAC,MAAM,QAAQ,GAAG,IAAA,iNAAQ,EAAC;IACjC,MAAM,CAAC,QAAQ,UAAU,GAAG,IAAA,iNAAQ,EAAC;IACrC,MAAM,CAAC,SAAS,WAAW,GAAG,IAAA,iNAAQ,EAAC;IACvC,MAAM,CAAC,OAAO,SAAS,GAAG,IAAA,iNAAQ,EAAC;IACnC,MAAM,SAAS,IAAA,+IAAS;IAExB,IAAA,kNAAS,EAAC;QACN,MAAM,QAAQ,aAAa,OAAO,CAAC;QACnC,IAAI,CAAC,OAAO;YACR,OAAO,IAAI,CAAC;QAChB;IACJ,GAAG;QAAC;KAAO;IAEX,MAAM,eAAe,OAAO;QACxB,EAAE,cAAc;QAChB,WAAW;QACX,SAAS;QACT,UAAU;QAEV,IAAI;YACA,+CAA+C;YAC/C,MAAM,WAAW,MAAM,wHAAG,CAAC,IAAI,CAAC,YAAY;gBAAE;YAAK;YACnD,UAAU,SAAS,IAAI;QAC3B,EAAE,OAAO,KAAK;YACV,IAAI,IAAI,QAAQ,EAAE;gBACd,IAAI,IAAI,QAAQ,CAAC,MAAM,KAAK,KAAK;oBAC7B,SAAS;oBACT,aAAa,UAAU,CAAC;oBACxB,WAAW,IAAM,OAAO,IAAI,CAAC,WAAW;gBAC5C,OAAO;oBACH,SAAS,IAAI,QAAQ,CAAC,IAAI,CAAC,MAAM,IAAI;gBACzC;YACJ,OAAO;gBACH,SAAS;YACb;QACJ,SAAU;YACN,WAAW;QACf;IACJ;IAEA,MAAM,oBAAoB,CAAC;QACvB,OAAQ,WAAW;YACf,KAAK;gBACD,OAAO;YACX,KAAK;gBACD,OAAO;YACX,KAAK;gBACD,OAAO;YACX;gBACI,OAAO;QACf;IACJ;IAEA,qBACI,8OAAC;QAAI,WAAU;kBACX,cAAA,8OAAC;YAAI,WAAU;;8BACX,8OAAC;oBAAG,WAAU;8BAAsD;;;;;;8BAEpE,8OAAC;oBAAK,UAAU;oBAAc,WAAU;;sCACpC,8OAAC;;8CACG,8OAAC;oCAAM,WAAU;8CAAiC;;;;;;8CAClD,8OAAC;oCACG,OAAO;oCACP,UAAU,CAAC,IAAM,QAAQ,EAAE,MAAM,CAAC,KAAK;oCACvC,WAAU;oCACV,aAAY;oCACZ,QAAQ;;;;;;;;;;;;wBAIf,uBAAS,8OAAC;4BAAE,WAAU;sCAAoC;;;;;;sCAE3D,8OAAC;4BACG,MAAK;4BACL,UAAU;4BACV,WAAU;sCAET,UAAU,iBAAiB;;;;;;;;;;;;gBAInC,wBACG,8OAAC;oBAAI,WAAU;;sCACX,8OAAC;4BAAG,WAAU;sCAAyC;;;;;;sCACvD,8OAAC;4BAAI,WAAU;;8CACX,8OAAC;oCAAK,WAAU;8CAAgB;;;;;;8CAChC,8OAAC;oCAAK,WAAW,CAAC,mBAAmB,EAAE,kBAAkB,OAAO,SAAS,GAAG;8CACvE,OAAO,SAAS;;;;;;;;;;;;sCAGzB,8OAAC;4BAAI,WAAU;;8CACX,8OAAC;oCAAK,WAAU;8CAAgB;;;;;;8CAChC,8OAAC;oCAAK,WAAU;8CAAqB,OAAO,KAAK,CAAC,OAAO,CAAC;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAOtF"}}]
}