{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///home/dickson/brief_emotion/sentiment-frontend/src/lib/api.js"],"sourcesContent":["import axios from \"axios\";\n\nexport const api = axios.create({\n  baseURL: \"http://localhost:8000\",\n});\n\napi.interceptors.request.use((config) => {\n  if (typeof window !== \"undefined\") {\n    const token = localStorage.getItem(\"token\");\n    if (token) {\n      config.headers.Authorization = `Bearer ${token}`;\n    }\n  }\n  return config;\n});\n"],"names":[],"mappings":";;;;AAAA;;AAEO,MAAM,MAAM,mJAAK,CAAC,MAAM,CAAC;IAC9B,SAAS;AACX;AAEA,IAAI,YAAY,CAAC,OAAO,CAAC,GAAG,CAAC,CAAC;IAC5B,wCAAmC;QACjC,MAAM,QAAQ,aAAa,OAAO,CAAC;QACnC,IAAI,OAAO;YACT,OAAO,OAAO,CAAC,aAAa,GAAG,CAAC,OAAO,EAAE,OAAO;QAClD;IACF;IACA,OAAO;AACT"}},
    {"offset": {"line": 29, "column": 0}, "map": {"version":3,"sources":["file:///home/dickson/brief_emotion/sentiment-frontend/src/app/sentiment/page.js"],"sourcesContent":["\"use client\";\n\nimport { useState, useEffect } from \"react\";\nimport { useRouter } from \"next/navigation\";\nimport { api } from \"@/lib/api\";\n\nexport default function SentimentPage() {\n    const [text, setText] = useState(\"\");\n    const [result, setResult] = useState(null);\n    const [loading, setLoading] = useState(false);\n    const [error, setError] = useState(\"\");\n    const router = useRouter();\n\n    useEffect(() => {\n        const token = localStorage.getItem(\"token\");\n        if (!token) {\n            router.push(\"/login\");\n        }\n    }, [router]);\n\n    const handleSubmit = async (e) => {\n        e.preventDefault();\n        setLoading(true);\n        setError(\"\");\n        setResult(null);\n\n        try {\n            // Using /predict as per backend implementation\n            const response = await api.post(\"/predict\", { text });\n            setResult(response.data);\n        } catch (err) {\n            if (err.response) {\n                if (err.response.status === 401) {\n                    setError(\"Session expired. Please login again.\");\n                    localStorage.removeItem(\"token\");\n                    setTimeout(() => router.push(\"/login\"), 2000);\n                } else {\n                    setError(err.response.data.detail || \"An error occurred.\");\n                }\n            } else {\n                setError(\"Network error. Please try again.\");\n            }\n        } finally {\n            setLoading(false);\n        }\n    };\n\n    const getSentimentColor = (sentiment) => {\n        switch (sentiment?.toLowerCase()) {\n            case \"positive\":\n                return \"text-green-400\";\n            case \"negative\":\n                return \"text-red-400\";\n            case \"neutral\":\n                return \"text-gray-400\";\n            default:\n                return \"text-white\";\n        }\n    };\n\n    return (\n        <div className=\"min-h-screen flex flex-col items-center justify-center bg-gray-900 text-white p-4\">\n            <div className=\"bg-gray-800 p-8 rounded-lg shadow-lg w-full max-w-2xl\">\n                <h1 className=\"text-3xl font-bold mb-6 text-center text-purple-400\">Sentiment Analysis</h1>\n\n                <form onSubmit={handleSubmit} className=\"space-y-4\">\n                    <div>\n                        <label className=\"block text-sm font-medium mb-2\">Enter Text</label>\n                        <textarea\n                            value={text}\n                            onChange={(e) => setText(e.target.value)}\n                            className=\"w-full p-3 rounded bg-gray-700 border border-gray-600 focus:border-purple-400 focus:outline-none h-32 resize-none\"\n                            placeholder=\"Type something here...\"\n                            required\n                        />\n                    </div>\n\n                    {error && <p className=\"text-red-400 text-sm text-center\">{error}</p>}\n\n                    <button\n                        type=\"submit\"\n                        disabled={loading}\n                        className=\"w-full bg-purple-500 hover:bg-purple-600 text-white font-bold py-2 px-4 rounded transition duration-200 disabled:opacity-50\"\n                    >\n                        {loading ? \"Analyzing...\" : \"Analyze Sentiment\"}\n                    </button>\n                </form>\n\n                {result && (\n                    <div className=\"mt-8 p-4 bg-gray-700 rounded border border-gray-600 animate-fade-in\">\n                        <h2 className=\"text-xl font-semibold mb-2 text-center\">Result</h2>\n                        <div className=\"flex justify-between items-center\">\n                            <span className=\"text-gray-300\">Sentiment:</span>\n                            <span className={`text-2xl font-bold ${getSentimentColor(result.sentiment)}`}>\n                                {result.sentiment}\n                            </span>\n                        </div>\n                        <div className=\"flex justify-between items-center mt-2\">\n                            <span className=\"text-gray-300\">Score:</span>\n                            <span className=\"text-xl font-mono\">{result.score.toFixed(4)}</span>\n                        </div>\n                    </div>\n                )}\n            </div>\n        </div>\n    );\n}\n"],"names":["useState","useEffect","useRouter","api","SentimentPage","text","setText","result","setResult","loading","setLoading","error","setError","router","token","localStorage","getItem","push","handleSubmit","e","preventDefault","response","post","data","err","status","removeItem","setTimeout","detail","getSentimentColor","sentiment","toLowerCase","target","value","score","toFixed"],"mappings":"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","ignoreList":[]}}]
}